# アプリケーション名
365日坊主
  
# このアプリケーションでできること
朝活の記録・振り返りを行うことができます。これらを通じて、朝活を毎日の習慣にすることが目的です。  
  
# URL
http://35.72.124.13/  
  
# テスト用アカウント
メールアドレス：test@example.co.jp  
パスワード：abc123  
  
# 利用方法
【アカウント作成】  
トップページの「ユーザー新規登録」ボタンをクリックしてアカウントを作成します。  
  
【トップページ】  
ログイン時には、ログインユーザー名・ユーザーのミッションと下記が表示されます。  
  
■チェックイン関連  
チェックイン：活動の開始時刻・活動目標を保存できます。  
再チェックイン：チェックイン情報の上書きができます。  
チェックイン取り消し：チェックイン情報の取り消しができます。  
※「再チェックイン」「チェックイン取り消し」は同日に未チェックインの場合は表示されません。  

■チェックアウト関連  
チェックアウト：活動の終了時刻・活動内容を保存できます。  
再チェックアウト：チェックアウト情報の上書きができます。  
チェックアウト取り消し：チェックアウト情報の取り消しができます。  
※「再チェックアウト」「チェックアウト取り消し」は同日に未チェックインの場合は表示されません。  
  
■タイムライン  
ユーザーのチェックイン情報が降順に表示されます（最大10件）。  
「あなた」をクリックすると自身の情報、「全ユーザー」をクリックすると全てのユーザーの情報を確認できます。  
  
■ユーザー編集  
登録したユーザー情報（名前・メールアドレス・パスワード・ミッション）の各情報を編集できます。  
  
■禊（みそぎ）  
チェックインしなかった日付を指定して、禊を行うことができます。  
お賽銭のようなイメージで、習慣行動を実施できなかったペナルティを自身で課す機能です。  
禊ページでは、PAY.jpの機能を用いて、任意の金額をアプリ作成者に支払うことができます。  
禊実施後は、該当の日付に「禊済み」のスタンプが押下され、カレンダーの空白を埋めることができます。  
（実際に決済は可能ですが、現段階ではREAD ONLYの機能を使ってテスト用のクレジット番号を予め設定しています）  
  
■カレンダー  
チェックイン・チェックアウトの日時と禊履歴が一覧で表示されます。  
各日付の「詳細」をクリックすると、当日の活動内容を確認することができます。  
  
# 目指した課題解決
【ペルソナ】  
年齢：20代半ば〜30代前半  
性別：男女問わずですが、どちらかというと男性寄りです。  
職業：会社員（ジャンル指定はありませんが、スキルや技術・知識などで一定の評価がある仕事のイメージです）  
趣味：特定の設定はありませんが、アウトドアよりはインドア派で、活動量が少ない（全体的なエネルギー量が少ない）人を想定しています。  
  
【解決したい課題】  
仕事や運動などにおいて、自己成長することで一定の成果を上げたいと考えているものの、
継続した活動が始められない（または苦手で積み上げが行えない）という課題を解決したいと考えました。  
きっかけを作り、生活を改め、毎日少しずつでも積み上げ・自己成長をしていくための一助になるツールとして作成を志しました。  
  
# 洗い出した要件
・ユーザー管理機能  
・ユーザー詳細機能  
・ユーザー編集機能  
・チェックイン機能  
・チェックアウト機能  
・ポップアップ機能  
・ミッション表示機能  
・禊機能  
・タイムライン機能  
  
# 実装した機能の画像・GIFとその説明
・ログイン、チェックイン、チェックアウトの機能  
https://gyazo.com/fb13a13c18e99424beff7f27df1ca430  
  
フォーム部分は、リアルタイムで入力内容のチェックが行われます。（JavaScriptとBootstrap）  
チェックイン・チェックアウト時にはポップアップが表示されます。（Ajax非同期通信を活用）  
  
  
・再チェックイン、再チェックアウト、チェックアウト取り消しの機能  
https://gyazo.com/8ea4b622d6eb754b6a40cd50257ef32a  
  
再チェックと取り消しは、当日チェックを行なった場合のみ表示させるようにしています。  
前日までの過去データの修正はできないので、チェックデータの信憑性が担保されています。  
  
  
・禊（みそぎ）機能  
https://gyazo.com/e7b78d91fa41c616eedaabd7a04b9cca  
  
PAY.jpの機能を用いて実装しています。  
  
  
# 実装予定の機能
■日報送信ページ  
チェックイン情報をチャットで送信するかどうかを選択するページです。  
「送信する」を選択すると、設定してある相手先にチェックインメッセージを送信します。  
  
# ローカルでの動作方法
Rubyバージョン：2.6.5  
  
ターミナルで、以下の順でコマンドを実行してください。  
% git clone https://github.com/mujin-pro/bouzu_365.git  
% cd bouzu_365  
% bundle install  
% yarn install  
% rails db:create  
% rails db:migrate  
  
# データベース設計
https://gyazo.com/532a626b7f8d6d04fd01a907d0856f15  
  
## usersテーブル

| Column             | Type   | Options                   |
| ------------------ | ------ | ------------------------- |
| name               | string | null: false               |
| email              | string | null: false, unique: true |
| encrypted_password | string | null: false               |
| mission            | string |                           |
  
### Association

has_many :checks  
has_many :completes  
has_many :donations  
  
## checksテーブル

| Column | Type       | Options                        |
| ------ | ---------- | ------------------------------ |
| goal   | text       |                                |
| user   | references | null: false, foreign_key: true |
  
### Association

belongs_to :user  
  
## completesテーブル

| Column   | Type       | Options                        |
| -------- | ---------- | ------------------------------ |
| activity | text       |                                |
| user     | references | null: false, foreign_key: true |
  
### Association

belongs_to :user  
  
## donationsテーブル

| Column      | Type       | Options                        |
| ----------- | ---------- | ------------------------------ |
| payment_day | date       | null: false                    |
| price       | integer    | null: false                    |
| user        | references | null: false, foreign_key: true |
  
### Association

belongs_to :user  
  
## calendarsテーブル

| Column     | Type     | Options |
| ---------- | -------- | ------- |
| name       | string   |         |
| start_time | datetime |         |